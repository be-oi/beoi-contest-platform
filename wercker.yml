box: debian

validate-json:
   steps:
    - script:
      name: Install python/pip
      code: sudo apt-get update && sudo apt-get install -y python-pip libpython-all-dev
    - 1science/jsonschema-lint:
      include: teacherInterface/i18n/**.json
    - 1science/jsonschema-lint:
      include: teacherInterface/regions/BE/**.json
    - 1science/jsonschema-lint:
      include: contestInterface/**.json

deploy-static-files:
  steps:
    - script:
      name: Upload static files to S3
      code: |
        REGION=eu-central-1

        info 'Installing pip...'
        sudo apt-get update
        sudo apt-get install -y python-pip libpython-all-dev
        info 'Installing the AWS CLI...';
        sudo pip install awscli;

        ./bin/upload_static_to_s3.sh

